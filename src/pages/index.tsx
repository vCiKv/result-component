import Head from "next/head";
import Image from "next/image";

const InfoBox = (props: {
  color: "light-red" | "orangey-yellow" | "green-teal" | "cobalt-blue";
  icon: string;
  value: number;
  text: string;
  size?: number;
}) => {
  const bgColorMap = {
    "light-red": "bg-light-red/[0.1]",
    "orangey-yellow": "bg-orangey-yellow/[.1]",
    "green-teal": "bg-green-teal/[.1]",
    "cobalt-blue": "bg-cobalt-blue/[.1]",
  };
  const textColorMap = {
    "light-red": "text-light-red",
    "orangey-yellow": "text-orangey-yellow",
    "green-teal": "text-green-teal",
    "cobalt-blue": "text-cobalt-blue",
  };

  const boxSize = Number(props.size ?? 10);
  const colorBg = bgColorMap[props.color] ?? "bg-white";
  const colorText = textColorMap[props.color] ?? "text-black";

  return (
    <div
      className={
        "mb-4 w-full h-[65px] rounded-2xl py-2 content-border " + colorBg
      }
    >
      <div className={"flex wrap items-center  justify-center h-full"}>
        <div className={"relative p-4"}>
          <Image
            src={"/images/icon-" + props.icon + ".svg"}
            width={boxSize}
            height={boxSize}
            alt=""
          />
        </div>
        <p className={"grow capitalize font-bold " + colorText}>{props.text}</p>
        <p className="w-2/5 text-right font-bold p-4">
          {props.value}
          <span className="text-black/[0.6]"> / 100</span>{" "}
        </p>
      </div>
    </div>
  );
};

export default function Home() {
  const resultData: {
    category: string;
    score: number;
    color: "light-red" | "orangey-yellow" | "green-teal" | "cobalt-blue";
  }[] = require("../../public/data.json");
  return (
    <div className="w-full h-full">
      <Head>
        <title>Result Component</title>
        <meta name="description" content="Generated by create next app" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <link rel="icon" href="/favicon.ico" />
      </Head>
      <main className="h-full w-full">
        <section className="component mx-auto relative h-full w-full">
          <div className="absolute left-1/2 top-1/2 -translate-x-1/2 -translate-y-1/2 shadow-md rounded-[40px] w-full h-full md:w-auto md:h-auto">
              <div className="flex flex-wrap md:flex-nowrap justify-center">
                <div className="max-w-[500px] bg-gradient-to-t from-g-royal to-g-slate text-white p-3 pb-8 rounded-b-[40px] md:rounded-t-[40px] text-center w-full">
                  <p className="my-3 capitalize text-xl opacity-60">
                    your result
                  </p>
                  <div className="h-32 w-32 rounded-full mx-auto bg-gradient-to-t to-g-c-blue from-g-c-violet">
                    <div className="text-center pt-8">
                      <p className="font-extrabold text-5xl">76</p>
                      <p className="opacity-60">of 100</p>
                    </div>
                  </div>
                  <div className="p-6">
                    <h6 className="font-extrabold mb-3 text-3xl">Great</h6>
                    <p className="opacity-60 text-sm">
                      you scored higher than 65% of people who have taken these
                      test
                    </p>
                  </div>
                </div>
                <div className=" p-6 w-full max-w-[500px]">
                  <h6 className="my-6 font-extrabold text-xl">Summary</h6>
                  {resultData.map((res) => (
                    <InfoBox
                      key={res.category}
                      color={res.color}
                      icon={res.category}
                      text={res.category}
                      value={res.score}
                      size={25}
                    />
                  ))}
                  <button className="bg-darkgray-blue text-white text-xl font-bold p-5 rounded-full w-full">
                    Continue
                  </button>
                </div>
              </div>
            </div>
        </section>
      </main>
    </div>
  );
}
